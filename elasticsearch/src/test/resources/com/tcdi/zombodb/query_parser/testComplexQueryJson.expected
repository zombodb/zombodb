{
  "has_child" : {
    "query" : {
      "bool" : {
        "should" : [ {
          "bool" : {
            "must" : [ {
              "bool" : {
                "must" : [ {
                  "terms" : {
                    "fulltext" : [ "beer" ]
                  }
                }, {
                  "nested" : {
                    "query" : {
                      "term" : {
                        "long.dotted.field" : "foo"
                      }
                    },
                    "path" : "long"
                  }
                }, {
                  "terms" : {
                    "subject" : [ "beer" ]
                  }
                }, {
                  "regexp" : {
                    "field" : {
                      "value" : "^.*"
                    }
                  }
                }, {
                  "term" : {
                    "subject" : [ "a", "b", "c", "d" ]
                  }
                }, {
                  "terms" : {
                    "fileextension" : [ "pdf", "pdf" ],
                    "minimum_should_match" : "2"
                  }
                }, {
                  "term" : {
                    "custodian" : "querty, v"
                  }
                }, {
                  "term" : {
                    "recordtype" : "email attachment"
                  }
                } ]
              }
            }, {
              "bool" : {
                "should" : [ {
                  "bool" : {
                    "should" : [ {
                      "terms" : {
                        "fulltext_field" : [ "meeting", "001", 123, 0, "000" ],
                        "minimum_should_match" : "5"
                      }
                    }, {
                      "terms" : {
                        "_all" : [ "meeting", "001", 123, 0, "000" ],
                        "minimum_should_match" : "5"
                      }
                    } ]
                  }
                }, {
                  "bool" : {
                    "should" : [ {
                      "terms" : {
                        "fulltext_field" : [ "meeting", "001", 123, 0, "000" ],
                        "minimum_should_match" : "5"
                      }
                    }, {
                      "terms" : {
                        "_all" : [ "meeting", "001", 123, 0, "000" ],
                        "minimum_should_match" : "5"
                      }
                    } ]
                  }
                }, {
                  "bool" : {
                    "should" : [ {
                      "terms" : {
                        "fulltext_field" : [ "meeting", "001", 123, 0, "000" ],
                        "minimum_should_match" : "5"
                      }
                    }, {
                      "terms" : {
                        "_all" : [ "meeting", "001", 123, 0, "000" ],
                        "minimum_should_match" : "5"
                      }
                    } ]
                  }
                }, {
                  "bool" : {
                    "should" : [ {
                      "terms" : {
                        "fulltext_field" : [ "meeting", "001", 123, 0, "000" ],
                        "minimum_should_match" : "5"
                      }
                    }, {
                      "terms" : {
                        "_all" : [ "meeting", "001", 123, 0, "000" ],
                        "minimum_should_match" : "5"
                      }
                    } ]
                  }
                }, {
                  "bool" : {
                    "should" : [ {
                      "terms" : {
                        "fulltext_field" : [ "meeting", "001", 123, 0, "000" ],
                        "minimum_should_match" : "5"
                      }
                    }, {
                      "terms" : {
                        "_all" : [ "meeting", "001", 123, 0, "000" ],
                        "minimum_should_match" : "5"
                      }
                    } ]
                  }
                } ]
              }
            }, {
              "bool" : {
                "must_not" : {
                  "bool" : {
                    "should" : [ {
                      "bool" : {
                        "should" : [ {
                          "terms" : {
                            "fulltext_field" : [ "staff", "cancelled", "risk" ]
                          }
                        }, {
                          "terms" : {
                            "_all" : [ "staff", "cancelled", "risk" ]
                          }
                        } ]
                      }
                    }, {
                      "bool" : {
                        "should" : [ {
                          "terms" : {
                            "fulltext_field" : [ "staff", "cancelled", "risk" ]
                          }
                        }, {
                          "terms" : {
                            "_all" : [ "staff", "cancelled", "risk" ]
                          }
                        } ]
                      }
                    }, {
                      "bool" : {
                        "should" : [ {
                          "terms" : {
                            "fulltext_field" : [ "staff", "cancelled", "risk" ]
                          }
                        }, {
                          "terms" : {
                            "_all" : [ "staff", "cancelled", "risk" ]
                          }
                        } ]
                      }
                    }, {
                      "bool" : {
                        "should" : [ {
                          "terms" : {
                            "fulltext_field" : [ "staff", "cancelled", "risk" ]
                          }
                        }, {
                          "terms" : {
                            "_all" : [ "staff", "cancelled", "risk" ]
                          }
                        } ]
                      }
                    }, {
                      "bool" : {
                        "should" : [ {
                          "terms" : {
                            "fulltext_field" : [ "staff", "cancelled", "risk" ]
                          }
                        }, {
                          "terms" : {
                            "_all" : [ "staff", "cancelled", "risk" ]
                          }
                        } ]
                      }
                    } ]
                  }
                }
              }
            }, {
              "bool" : {
                "should" : [ {
                  "bool" : {
                    "must" : {
                      "bool" : {
                        "should" : [ {
                          "bool" : {
                            "should" : [ {
                              "terms" : {
                                "fulltext_field" : [ "the", "subquery" ],
                                "minimum_should_match" : "2"
                              }
                            }, {
                              "terms" : {
                                "_all" : [ "the", "subquery" ],
                                "minimum_should_match" : "2"
                              }
                            } ]
                          }
                        }, {
                          "bool" : {
                            "should" : [ {
                              "terms" : {
                                "fulltext_field" : [ "the", "subquery" ],
                                "minimum_should_match" : "2"
                              }
                            }, {
                              "terms" : {
                                "_all" : [ "the", "subquery" ],
                                "minimum_should_match" : "2"
                              }
                            } ]
                          }
                        }, {
                          "bool" : {
                            "should" : [ {
                              "terms" : {
                                "fulltext_field" : [ "the", "subquery" ],
                                "minimum_should_match" : "2"
                              }
                            }, {
                              "terms" : {
                                "_all" : [ "the", "subquery" ],
                                "minimum_should_match" : "2"
                              }
                            } ]
                          }
                        }, {
                          "bool" : {
                            "should" : [ {
                              "terms" : {
                                "fulltext_field" : [ "the", "subquery" ],
                                "minimum_should_match" : "2"
                              }
                            }, {
                              "terms" : {
                                "_all" : [ "the", "subquery" ],
                                "minimum_should_match" : "2"
                              }
                            } ]
                          }
                        }, {
                          "bool" : {
                            "should" : [ {
                              "terms" : {
                                "fulltext_field" : [ "the", "subquery" ],
                                "minimum_should_match" : "2"
                              }
                            }, {
                              "terms" : {
                                "_all" : [ "the", "subquery" ],
                                "minimum_should_match" : "2"
                              }
                            } ]
                          }
                        } ]
                      }
                    }
                  }
                }, {
                  "bool" : {
                    "must" : {
                      "bool" : {
                        "should" : [ {
                          "bool" : {
                            "should" : [ {
                              "terms" : {
                                "fulltext_field" : [ "the", "subquery" ],
                                "minimum_should_match" : "2"
                              }
                            }, {
                              "terms" : {
                                "_all" : [ "the", "subquery" ],
                                "minimum_should_match" : "2"
                              }
                            } ]
                          }
                        }, {
                          "bool" : {
                            "should" : [ {
                              "terms" : {
                                "fulltext_field" : [ "the", "subquery" ],
                                "minimum_should_match" : "2"
                              }
                            }, {
                              "terms" : {
                                "_all" : [ "the", "subquery" ],
                                "minimum_should_match" : "2"
                              }
                            } ]
                          }
                        }, {
                          "bool" : {
                            "should" : [ {
                              "terms" : {
                                "fulltext_field" : [ "the", "subquery" ],
                                "minimum_should_match" : "2"
                              }
                            }, {
                              "terms" : {
                                "_all" : [ "the", "subquery" ],
                                "minimum_should_match" : "2"
                              }
                            } ]
                          }
                        }, {
                          "bool" : {
                            "should" : [ {
                              "terms" : {
                                "fulltext_field" : [ "the", "subquery" ],
                                "minimum_should_match" : "2"
                              }
                            }, {
                              "terms" : {
                                "_all" : [ "the", "subquery" ],
                                "minimum_should_match" : "2"
                              }
                            } ]
                          }
                        }, {
                          "bool" : {
                            "should" : [ {
                              "terms" : {
                                "fulltext_field" : [ "the", "subquery" ],
                                "minimum_should_match" : "2"
                              }
                            }, {
                              "terms" : {
                                "_all" : [ "the", "subquery" ],
                                "minimum_should_match" : "2"
                              }
                            } ]
                          }
                        } ]
                      }
                    }
                  }
                } ]
              }
            }, {
              "has_child" : {
                "query" : {
                  "bool" : {
                    "should" : [ {
                      "bool" : {
                        "should" : [ {
                          "terms" : {
                            "fulltext_field" : [ "some", "query" ],
                            "minimum_should_match" : "2"
                          }
                        }, {
                          "terms" : {
                            "_all" : [ "some", "query" ],
                            "minimum_should_match" : "2"
                          }
                        } ]
                      }
                    }, {
                      "bool" : {
                        "should" : [ {
                          "terms" : {
                            "fulltext_field" : [ "some", "query" ],
                            "minimum_should_match" : "2"
                          }
                        }, {
                          "terms" : {
                            "_all" : [ "some", "query" ],
                            "minimum_should_match" : "2"
                          }
                        } ]
                      }
                    }, {
                      "bool" : {
                        "should" : [ {
                          "terms" : {
                            "fulltext_field" : [ "some", "query" ],
                            "minimum_should_match" : "2"
                          }
                        }, {
                          "terms" : {
                            "_all" : [ "some", "query" ],
                            "minimum_should_match" : "2"
                          }
                        } ]
                      }
                    }, {
                      "bool" : {
                        "should" : [ {
                          "terms" : {
                            "fulltext_field" : [ "some", "query" ],
                            "minimum_should_match" : "2"
                          }
                        }, {
                          "terms" : {
                            "_all" : [ "some", "query" ],
                            "minimum_should_match" : "2"
                          }
                        } ]
                      }
                    }, {
                      "bool" : {
                        "should" : [ {
                          "terms" : {
                            "fulltext_field" : [ "some", "query" ],
                            "minimum_should_match" : "2"
                          }
                        }, {
                          "terms" : {
                            "_all" : [ "some", "query" ],
                            "minimum_should_match" : "2"
                          }
                        } ]
                      }
                    } ]
                  }
                },
                "child_type" : "data"
              }
            }, {
              "has_parent" : {
                "query" : {
                  "terms" : {
                    "_all" : [ "other", "query" ],
                    "minimum_should_match" : "2"
                  }
                },
                "parent_type" : "xact"
              }
            }, {
              "match_all" : { }
            }, {
              "bool" : {
                "should" : [ {
                  "bool" : {
                    "should" : [ {
                      "fuzzy" : {
                        "fulltext_field" : {
                          "value" : "fuzzy",
                          "prefix_length" : 32
                        }
                      }
                    }, {
                      "fuzzy" : {
                        "_all" : {
                          "value" : "fuzzy",
                          "prefix_length" : 32
                        }
                      }
                    } ]
                  }
                }, {
                  "bool" : {
                    "should" : [ {
                      "fuzzy" : {
                        "fulltext_field" : {
                          "value" : "fuzzy",
                          "prefix_length" : 32
                        }
                      }
                    }, {
                      "fuzzy" : {
                        "_all" : {
                          "value" : "fuzzy",
                          "prefix_length" : 32
                        }
                      }
                    } ]
                  }
                }, {
                  "bool" : {
                    "should" : [ {
                      "fuzzy" : {
                        "fulltext_field" : {
                          "value" : "fuzzy",
                          "prefix_length" : 32
                        }
                      }
                    }, {
                      "fuzzy" : {
                        "_all" : {
                          "value" : "fuzzy",
                          "prefix_length" : 32
                        }
                      }
                    } ]
                  }
                }, {
                  "bool" : {
                    "should" : [ {
                      "fuzzy" : {
                        "fulltext_field" : {
                          "value" : "fuzzy",
                          "prefix_length" : 32
                        }
                      }
                    }, {
                      "fuzzy" : {
                        "_all" : {
                          "value" : "fuzzy",
                          "prefix_length" : 32
                        }
                      }
                    } ]
                  }
                }, {
                  "bool" : {
                    "should" : [ {
                      "fuzzy" : {
                        "fulltext_field" : {
                          "value" : "fuzzy",
                          "prefix_length" : 32
                        }
                      }
                    }, {
                      "fuzzy" : {
                        "_all" : {
                          "value" : "fuzzy",
                          "prefix_length" : 32
                        }
                      }
                    } ]
                  }
                } ]
              }
            }, {
              "bool" : {
                "should" : [ {
                  "bool" : {
                    "should" : [ {
                      "match" : {
                        "fulltext_field" : {
                          "query" : "1 2",
                          "type" : "phrase"
                        }
                      }
                    }, {
                      "match" : {
                        "_all" : {
                          "query" : "1 2",
                          "type" : "phrase"
                        }
                      }
                    } ]
                  }
                }, {
                  "bool" : {
                    "should" : [ {
                      "match" : {
                        "fulltext_field" : {
                          "query" : "1 2",
                          "type" : "phrase"
                        }
                      }
                    }, {
                      "match" : {
                        "_all" : {
                          "query" : "1 2",
                          "type" : "phrase"
                        }
                      }
                    } ]
                  }
                }, {
                  "bool" : {
                    "should" : [ {
                      "match" : {
                        "fulltext_field" : {
                          "query" : "1 2",
                          "type" : "phrase"
                        }
                      }
                    }, {
                      "match" : {
                        "_all" : {
                          "query" : "1 2",
                          "type" : "phrase"
                        }
                      }
                    } ]
                  }
                }, {
                  "bool" : {
                    "should" : [ {
                      "match" : {
                        "fulltext_field" : {
                          "query" : "1 2",
                          "type" : "phrase"
                        }
                      }
                    }, {
                      "match" : {
                        "_all" : {
                          "query" : "1 2",
                          "type" : "phrase"
                        }
                      }
                    } ]
                  }
                }, {
                  "bool" : {
                    "should" : [ {
                      "match" : {
                        "fulltext_field" : {
                          "query" : "1 2",
                          "type" : "phrase"
                        }
                      }
                    }, {
                      "match" : {
                        "_all" : {
                          "query" : "1 2",
                          "type" : "phrase"
                        }
                      }
                    } ]
                  }
                } ]
              }
            }, {
              "bool" : {
                "should" : [ {
                  "bool" : {
                    "should" : [ {
                      "prefix" : {
                        "fulltext_field" : "prefix"
                      }
                    }, {
                      "prefix" : {
                        "_all" : "prefix"
                      }
                    } ]
                  }
                }, {
                  "bool" : {
                    "should" : [ {
                      "prefix" : {
                        "fulltext_field" : "prefix"
                      }
                    }, {
                      "prefix" : {
                        "_all" : "prefix"
                      }
                    } ]
                  }
                }, {
                  "bool" : {
                    "should" : [ {
                      "prefix" : {
                        "fulltext_field" : "prefix"
                      }
                    }, {
                      "prefix" : {
                        "_all" : "prefix"
                      }
                    } ]
                  }
                }, {
                  "bool" : {
                    "should" : [ {
                      "prefix" : {
                        "fulltext_field" : "prefix"
                      }
                    }, {
                      "prefix" : {
                        "_all" : "prefix"
                      }
                    } ]
                  }
                }, {
                  "bool" : {
                    "should" : [ {
                      "prefix" : {
                        "fulltext_field" : "prefix"
                      }
                    }, {
                      "prefix" : {
                        "_all" : "prefix"
                      }
                    } ]
                  }
                } ]
              }
            }, {
              "bool" : {
                "should" : [ {
                  "bool" : {
                    "should" : [ {
                      "wildcard" : {
                        "fulltext_field" : "*wildcard"
                      }
                    }, {
                      "wildcard" : {
                        "_all" : "*wildcard"
                      }
                    } ]
                  }
                }, {
                  "bool" : {
                    "should" : [ {
                      "wildcard" : {
                        "fulltext_field" : "*wildcard"
                      }
                    }, {
                      "wildcard" : {
                        "_all" : "*wildcard"
                      }
                    } ]
                  }
                }, {
                  "bool" : {
                    "should" : [ {
                      "wildcard" : {
                        "fulltext_field" : "*wildcard"
                      }
                    }, {
                      "wildcard" : {
                        "_all" : "*wildcard"
                      }
                    } ]
                  }
                }, {
                  "bool" : {
                    "should" : [ {
                      "wildcard" : {
                        "fulltext_field" : "*wildcard"
                      }
                    }, {
                      "wildcard" : {
                        "_all" : "*wildcard"
                      }
                    } ]
                  }
                }, {
                  "bool" : {
                    "should" : [ {
                      "wildcard" : {
                        "fulltext_field" : "*wildcard"
                      }
                    }, {
                      "wildcard" : {
                        "_all" : "*wildcard"
                      }
                    } ]
                  }
                } ]
              }
            }, {
              "bool" : {
                "should" : [ {
                  "bool" : {
                    "should" : [ {
                      "wildcard" : {
                        "fulltext_field" : "*wildcard2*"
                      }
                    }, {
                      "wildcard" : {
                        "_all" : "*wildcard2*"
                      }
                    } ]
                  }
                }, {
                  "bool" : {
                    "should" : [ {
                      "wildcard" : {
                        "fulltext_field" : "*wildcard2*"
                      }
                    }, {
                      "wildcard" : {
                        "_all" : "*wildcard2*"
                      }
                    } ]
                  }
                }, {
                  "bool" : {
                    "should" : [ {
                      "wildcard" : {
                        "fulltext_field" : "*wildcard2*"
                      }
                    }, {
                      "wildcard" : {
                        "_all" : "*wildcard2*"
                      }
                    } ]
                  }
                }, {
                  "bool" : {
                    "should" : [ {
                      "wildcard" : {
                        "fulltext_field" : "*wildcard2*"
                      }
                    }, {
                      "wildcard" : {
                        "_all" : "*wildcard2*"
                      }
                    } ]
                  }
                }, {
                  "bool" : {
                    "should" : [ {
                      "wildcard" : {
                        "fulltext_field" : "*wildcard2*"
                      }
                    }, {
                      "wildcard" : {
                        "_all" : "*wildcard2*"
                      }
                    } ]
                  }
                } ]
              }
            }, {
              "bool" : {
                "should" : [ {
                  "bool" : {
                    "should" : [ {
                      "wildcard" : {
                        "fulltext_field" : "*wild*card3*"
                      }
                    }, {
                      "wildcard" : {
                        "_all" : "*wild*card3*"
                      }
                    } ]
                  }
                }, {
                  "bool" : {
                    "should" : [ {
                      "wildcard" : {
                        "fulltext_field" : "*wild*card3*"
                      }
                    }, {
                      "wildcard" : {
                        "_all" : "*wild*card3*"
                      }
                    } ]
                  }
                }, {
                  "bool" : {
                    "should" : [ {
                      "wildcard" : {
                        "fulltext_field" : "*wild*card3*"
                      }
                    }, {
                      "wildcard" : {
                        "_all" : "*wild*card3*"
                      }
                    } ]
                  }
                }, {
                  "bool" : {
                    "should" : [ {
                      "wildcard" : {
                        "fulltext_field" : "*wild*card3*"
                      }
                    }, {
                      "wildcard" : {
                        "_all" : "*wild*card3*"
                      }
                    } ]
                  }
                }, {
                  "bool" : {
                    "should" : [ {
                      "wildcard" : {
                        "fulltext_field" : "*wild*card3*"
                      }
                    }, {
                      "wildcard" : {
                        "_all" : "*wild*card3*"
                      }
                    } ]
                  }
                } ]
              }
            }, {
              "bool" : {
                "should" : [ {
                  "bool" : {
                    "should" : [ {
                      "wildcard" : {
                        "fulltext_field" : "wild*card4"
                      }
                    }, {
                      "wildcard" : {
                        "_all" : "wild*card4"
                      }
                    } ]
                  }
                }, {
                  "bool" : {
                    "should" : [ {
                      "wildcard" : {
                        "fulltext_field" : "wild*card4"
                      }
                    }, {
                      "wildcard" : {
                        "_all" : "wild*card4"
                      }
                    } ]
                  }
                }, {
                  "bool" : {
                    "should" : [ {
                      "wildcard" : {
                        "fulltext_field" : "wild*card4"
                      }
                    }, {
                      "wildcard" : {
                        "_all" : "wild*card4"
                      }
                    } ]
                  }
                }, {
                  "bool" : {
                    "should" : [ {
                      "wildcard" : {
                        "fulltext_field" : "wild*card4"
                      }
                    }, {
                      "wildcard" : {
                        "_all" : "wild*card4"
                      }
                    } ]
                  }
                }, {
                  "bool" : {
                    "should" : [ {
                      "wildcard" : {
                        "fulltext_field" : "wild*card4"
                      }
                    }, {
                      "wildcard" : {
                        "_all" : "wild*card4"
                      }
                    } ]
                  }
                } ]
              }
            }, {
              "bool" : {
                "should" : [ {
                  "bool" : {
                    "should" : [ {
                      "span_near" : {
                        "clauses" : [ {
                          "span_multi" : {
                            "match" : {
                              "prefix" : {
                                "fulltext_field" : "prefix"
                              }
                            }
                          }
                        }, {
                          "span_multi" : {
                            "match" : {
                              "wildcard" : {
                                "fulltext_field" : "*wildcard"
                              }
                            }
                          }
                        }, {
                          "span_multi" : {
                            "match" : {
                              "wildcard" : {
                                "fulltext_field" : "*wildcard2*"
                              }
                            }
                          }
                        }, {
                          "span_multi" : {
                            "match" : {
                              "wildcard" : {
                                "fulltext_field" : "*wild*card3*"
                              }
                            }
                          }
                        }, {
                          "span_multi" : {
                            "match" : {
                              "wildcard" : {
                                "fulltext_field" : "wild*card4"
                              }
                            }
                          }
                        } ],
                        "slop" : 0,
                        "in_order" : true
                      }
                    }, {
                      "span_near" : {
                        "clauses" : [ {
                          "span_multi" : {
                            "match" : {
                              "prefix" : {
                                "_all" : "prefix"
                              }
                            }
                          }
                        }, {
                          "span_multi" : {
                            "match" : {
                              "wildcard" : {
                                "_all" : "*wildcard"
                              }
                            }
                          }
                        }, {
                          "span_multi" : {
                            "match" : {
                              "wildcard" : {
                                "_all" : "*wildcard2*"
                              }
                            }
                          }
                        }, {
                          "span_multi" : {
                            "match" : {
                              "wildcard" : {
                                "_all" : "*wild*card3*"
                              }
                            }
                          }
                        }, {
                          "span_multi" : {
                            "match" : {
                              "wildcard" : {
                                "_all" : "wild*card4"
                              }
                            }
                          }
                        } ],
                        "slop" : 0,
                        "in_order" : true
                      }
                    } ]
                  }
                }, {
                  "bool" : {
                    "should" : [ {
                      "span_near" : {
                        "clauses" : [ {
                          "span_multi" : {
                            "match" : {
                              "prefix" : {
                                "fulltext_field" : "prefix"
                              }
                            }
                          }
                        }, {
                          "span_multi" : {
                            "match" : {
                              "wildcard" : {
                                "fulltext_field" : "*wildcard"
                              }
                            }
                          }
                        }, {
                          "span_multi" : {
                            "match" : {
                              "wildcard" : {
                                "fulltext_field" : "*wildcard2*"
                              }
                            }
                          }
                        }, {
                          "span_multi" : {
                            "match" : {
                              "wildcard" : {
                                "fulltext_field" : "*wild*card3*"
                              }
                            }
                          }
                        }, {
                          "span_multi" : {
                            "match" : {
                              "wildcard" : {
                                "fulltext_field" : "wild*card4"
                              }
                            }
                          }
                        } ],
                        "slop" : 0,
                        "in_order" : true
                      }
                    }, {
                      "span_near" : {
                        "clauses" : [ {
                          "span_multi" : {
                            "match" : {
                              "prefix" : {
                                "_all" : "prefix"
                              }
                            }
                          }
                        }, {
                          "span_multi" : {
                            "match" : {
                              "wildcard" : {
                                "_all" : "*wildcard"
                              }
                            }
                          }
                        }, {
                          "span_multi" : {
                            "match" : {
                              "wildcard" : {
                                "_all" : "*wildcard2*"
                              }
                            }
                          }
                        }, {
                          "span_multi" : {
                            "match" : {
                              "wildcard" : {
                                "_all" : "*wild*card3*"
                              }
                            }
                          }
                        }, {
                          "span_multi" : {
                            "match" : {
                              "wildcard" : {
                                "_all" : "wild*card4"
                              }
                            }
                          }
                        } ],
                        "slop" : 0,
                        "in_order" : true
                      }
                    } ]
                  }
                }, {
                  "bool" : {
                    "should" : [ {
                      "span_near" : {
                        "clauses" : [ {
                          "span_multi" : {
                            "match" : {
                              "prefix" : {
                                "fulltext_field" : "prefix"
                              }
                            }
                          }
                        }, {
                          "span_multi" : {
                            "match" : {
                              "wildcard" : {
                                "fulltext_field" : "*wildcard"
                              }
                            }
                          }
                        }, {
                          "span_multi" : {
                            "match" : {
                              "wildcard" : {
                                "fulltext_field" : "*wildcard2*"
                              }
                            }
                          }
                        }, {
                          "span_multi" : {
                            "match" : {
                              "wildcard" : {
                                "fulltext_field" : "*wild*card3*"
                              }
                            }
                          }
                        }, {
                          "span_multi" : {
                            "match" : {
                              "wildcard" : {
                                "fulltext_field" : "wild*card4"
                              }
                            }
                          }
                        } ],
                        "slop" : 0,
                        "in_order" : true
                      }
                    }, {
                      "span_near" : {
                        "clauses" : [ {
                          "span_multi" : {
                            "match" : {
                              "prefix" : {
                                "_all" : "prefix"
                              }
                            }
                          }
                        }, {
                          "span_multi" : {
                            "match" : {
                              "wildcard" : {
                                "_all" : "*wildcard"
                              }
                            }
                          }
                        }, {
                          "span_multi" : {
                            "match" : {
                              "wildcard" : {
                                "_all" : "*wildcard2*"
                              }
                            }
                          }
                        }, {
                          "span_multi" : {
                            "match" : {
                              "wildcard" : {
                                "_all" : "*wild*card3*"
                              }
                            }
                          }
                        }, {
                          "span_multi" : {
                            "match" : {
                              "wildcard" : {
                                "_all" : "wild*card4"
                              }
                            }
                          }
                        } ],
                        "slop" : 0,
                        "in_order" : true
                      }
                    } ]
                  }
                }, {
                  "bool" : {
                    "should" : [ {
                      "span_near" : {
                        "clauses" : [ {
                          "span_multi" : {
                            "match" : {
                              "prefix" : {
                                "fulltext_field" : "prefix"
                              }
                            }
                          }
                        }, {
                          "span_multi" : {
                            "match" : {
                              "wildcard" : {
                                "fulltext_field" : "*wildcard"
                              }
                            }
                          }
                        }, {
                          "span_multi" : {
                            "match" : {
                              "wildcard" : {
                                "fulltext_field" : "*wildcard2*"
                              }
                            }
                          }
                        }, {
                          "span_multi" : {
                            "match" : {
                              "wildcard" : {
                                "fulltext_field" : "*wild*card3*"
                              }
                            }
                          }
                        }, {
                          "span_multi" : {
                            "match" : {
                              "wildcard" : {
                                "fulltext_field" : "wild*card4"
                              }
                            }
                          }
                        } ],
                        "slop" : 0,
                        "in_order" : true
                      }
                    }, {
                      "span_near" : {
                        "clauses" : [ {
                          "span_multi" : {
                            "match" : {
                              "prefix" : {
                                "_all" : "prefix"
                              }
                            }
                          }
                        }, {
                          "span_multi" : {
                            "match" : {
                              "wildcard" : {
                                "_all" : "*wildcard"
                              }
                            }
                          }
                        }, {
                          "span_multi" : {
                            "match" : {
                              "wildcard" : {
                                "_all" : "*wildcard2*"
                              }
                            }
                          }
                        }, {
                          "span_multi" : {
                            "match" : {
                              "wildcard" : {
                                "_all" : "*wild*card3*"
                              }
                            }
                          }
                        }, {
                          "span_multi" : {
                            "match" : {
                              "wildcard" : {
                                "_all" : "wild*card4"
                              }
                            }
                          }
                        } ],
                        "slop" : 0,
                        "in_order" : true
                      }
                    } ]
                  }
                }, {
                  "bool" : {
                    "should" : [ {
                      "span_near" : {
                        "clauses" : [ {
                          "span_multi" : {
                            "match" : {
                              "prefix" : {
                                "fulltext_field" : "prefix"
                              }
                            }
                          }
                        }, {
                          "span_multi" : {
                            "match" : {
                              "wildcard" : {
                                "fulltext_field" : "*wildcard"
                              }
                            }
                          }
                        }, {
                          "span_multi" : {
                            "match" : {
                              "wildcard" : {
                                "fulltext_field" : "*wildcard2*"
                              }
                            }
                          }
                        }, {
                          "span_multi" : {
                            "match" : {
                              "wildcard" : {
                                "fulltext_field" : "*wild*card3*"
                              }
                            }
                          }
                        }, {
                          "span_multi" : {
                            "match" : {
                              "wildcard" : {
                                "fulltext_field" : "wild*card4"
                              }
                            }
                          }
                        } ],
                        "slop" : 0,
                        "in_order" : true
                      }
                    }, {
                      "span_near" : {
                        "clauses" : [ {
                          "span_multi" : {
                            "match" : {
                              "prefix" : {
                                "_all" : "prefix"
                              }
                            }
                          }
                        }, {
                          "span_multi" : {
                            "match" : {
                              "wildcard" : {
                                "_all" : "*wildcard"
                              }
                            }
                          }
                        }, {
                          "span_multi" : {
                            "match" : {
                              "wildcard" : {
                                "_all" : "*wildcard2*"
                              }
                            }
                          }
                        }, {
                          "span_multi" : {
                            "match" : {
                              "wildcard" : {
                                "_all" : "*wild*card3*"
                              }
                            }
                          }
                        }, {
                          "span_multi" : {
                            "match" : {
                              "wildcard" : {
                                "_all" : "wild*card4"
                              }
                            }
                          }
                        } ],
                        "slop" : 0,
                        "in_order" : true
                      }
                    } ]
                  }
                } ]
              }
            }, {
              "bool" : {
                "should" : [ {
                  "bool" : {
                    "should" : [ {
                      "term" : {
                        "fulltext_field" : 0.23
                      }
                    }, {
                      "term" : {
                        "_all" : 0.23
                      }
                    } ]
                  }
                }, {
                  "bool" : {
                    "should" : [ {
                      "term" : {
                        "fulltext_field" : 0.23
                      }
                    }, {
                      "term" : {
                        "_all" : 0.23
                      }
                    } ]
                  }
                }, {
                  "bool" : {
                    "should" : [ {
                      "term" : {
                        "fulltext_field" : 0.23
                      }
                    }, {
                      "term" : {
                        "_all" : 0.23
                      }
                    } ]
                  }
                }, {
                  "bool" : {
                    "should" : [ {
                      "term" : {
                        "fulltext_field" : 0.23
                      }
                    }, {
                      "term" : {
                        "_all" : 0.23
                      }
                    } ]
                  }
                }, {
                  "bool" : {
                    "should" : [ {
                      "term" : {
                        "fulltext_field" : 0.23
                      }
                    }, {
                      "term" : {
                        "_all" : 0.23
                      }
                    } ]
                  }
                } ]
              }
            }, {
              "filtered" : {
                "query" : {
                  "match_all" : { }
                },
                "filter" : {
                  "script" : {
                    "script" : " doc['id'].value > 1024 "
                  }
                }
              }
            } ]
          }
        }, {
          "bool" : {
            "must" : [ {
              "bool" : {
                "must" : [ {
                  "term" : {
                    "title" : [ "1", "2", "3", "4", "5" ]
                  }
                }, {
                  "filtered" : {
                    "query" : {
                      "match_all" : { }
                    },
                    "filter" : {
                      "missing" : {
                        "field" : "field"
                      }
                    }
                  }
                }, {
                  "bool" : {
                    "should" : [ {
                      "bool" : {
                        "must" : [ {
                          "nested" : {
                            "query" : {
                              "term" : {
                                "review_data.owner_username" : "e_ridge"
                              }
                            },
                            "path" : "review_data"
                          }
                        }, {
                          "nested" : {
                            "query" : {
                              "terms" : {
                                "review_data.status_name" : [ "review_updated", "review_checked_out" ]
                              }
                            },
                            "path" : "review_data"
                          }
                        } ]
                      }
                    }, {
                      "nested" : {
                        "query" : {
                          "term" : {
                            "review_data.status_name" : "review_ready"
                          }
                        },
                        "path" : "review_data"
                      }
                    } ]
                  }
                }, {
                  "nested" : {
                    "query" : {
                      "term" : {
                        "review_data.project_id" : 1040
                      }
                    },
                    "path" : "review_data"
                  }
                } ]
              }
            }, {
              "bool" : {
                "should" : [ {
                  "bool" : {
                    "should" : [ {
                      "span_near" : {
                        "clauses" : [ {
                          "span_term" : {
                            "fulltext_field" : {
                              "value" : "this"
                            }
                          }
                        }, {
                          "span_term" : {
                            "fulltext_field" : {
                              "value" : "is"
                            }
                          }
                        }, {
                          "span_term" : {
                            "fulltext_field" : {
                              "value" : "a"
                            }
                          }
                        }, {
                          "span_term" : {
                            "fulltext_field" : {
                              "value" : "sloppy"
                            }
                          }
                        }, {
                          "span_multi" : {
                            "match" : {
                              "fuzzy" : {
                                "fulltext_field" : {
                                  "value" : "phrase",
                                  "prefix_length" : 3
                                }
                              }
                            }
                          }
                        } ],
                        "slop" : 11,
                        "in_order" : true
                      }
                    }, {
                      "span_near" : {
                        "clauses" : [ {
                          "span_term" : {
                            "_all" : {
                              "value" : "this"
                            }
                          }
                        }, {
                          "span_term" : {
                            "_all" : {
                              "value" : "is"
                            }
                          }
                        }, {
                          "span_term" : {
                            "_all" : {
                              "value" : "a"
                            }
                          }
                        }, {
                          "span_term" : {
                            "_all" : {
                              "value" : "sloppy"
                            }
                          }
                        }, {
                          "span_multi" : {
                            "match" : {
                              "fuzzy" : {
                                "_all" : {
                                  "value" : "phrase",
                                  "prefix_length" : 3
                                }
                              }
                            }
                          }
                        } ],
                        "slop" : 11,
                        "in_order" : true
                      }
                    } ]
                  }
                }, {
                  "bool" : {
                    "should" : [ {
                      "span_near" : {
                        "clauses" : [ {
                          "span_term" : {
                            "fulltext_field" : {
                              "value" : "this"
                            }
                          }
                        }, {
                          "span_term" : {
                            "fulltext_field" : {
                              "value" : "is"
                            }
                          }
                        }, {
                          "span_term" : {
                            "fulltext_field" : {
                              "value" : "a"
                            }
                          }
                        }, {
                          "span_term" : {
                            "fulltext_field" : {
                              "value" : "sloppy"
                            }
                          }
                        }, {
                          "span_multi" : {
                            "match" : {
                              "fuzzy" : {
                                "fulltext_field" : {
                                  "value" : "phrase",
                                  "prefix_length" : 3
                                }
                              }
                            }
                          }
                        } ],
                        "slop" : 11,
                        "in_order" : true
                      }
                    }, {
                      "span_near" : {
                        "clauses" : [ {
                          "span_term" : {
                            "_all" : {
                              "value" : "this"
                            }
                          }
                        }, {
                          "span_term" : {
                            "_all" : {
                              "value" : "is"
                            }
                          }
                        }, {
                          "span_term" : {
                            "_all" : {
                              "value" : "a"
                            }
                          }
                        }, {
                          "span_term" : {
                            "_all" : {
                              "value" : "sloppy"
                            }
                          }
                        }, {
                          "span_multi" : {
                            "match" : {
                              "fuzzy" : {
                                "_all" : {
                                  "value" : "phrase",
                                  "prefix_length" : 3
                                }
                              }
                            }
                          }
                        } ],
                        "slop" : 11,
                        "in_order" : true
                      }
                    } ]
                  }
                }, {
                  "bool" : {
                    "should" : [ {
                      "span_near" : {
                        "clauses" : [ {
                          "span_term" : {
                            "fulltext_field" : {
                              "value" : "this"
                            }
                          }
                        }, {
                          "span_term" : {
                            "fulltext_field" : {
                              "value" : "is"
                            }
                          }
                        }, {
                          "span_term" : {
                            "fulltext_field" : {
                              "value" : "a"
                            }
                          }
                        }, {
                          "span_term" : {
                            "fulltext_field" : {
                              "value" : "sloppy"
                            }
                          }
                        }, {
                          "span_multi" : {
                            "match" : {
                              "fuzzy" : {
                                "fulltext_field" : {
                                  "value" : "phrase",
                                  "prefix_length" : 3
                                }
                              }
                            }
                          }
                        } ],
                        "slop" : 11,
                        "in_order" : true
                      }
                    }, {
                      "span_near" : {
                        "clauses" : [ {
                          "span_term" : {
                            "_all" : {
                              "value" : "this"
                            }
                          }
                        }, {
                          "span_term" : {
                            "_all" : {
                              "value" : "is"
                            }
                          }
                        }, {
                          "span_term" : {
                            "_all" : {
                              "value" : "a"
                            }
                          }
                        }, {
                          "span_term" : {
                            "_all" : {
                              "value" : "sloppy"
                            }
                          }
                        }, {
                          "span_multi" : {
                            "match" : {
                              "fuzzy" : {
                                "_all" : {
                                  "value" : "phrase",
                                  "prefix_length" : 3
                                }
                              }
                            }
                          }
                        } ],
                        "slop" : 11,
                        "in_order" : true
                      }
                    } ]
                  }
                }, {
                  "bool" : {
                    "should" : [ {
                      "span_near" : {
                        "clauses" : [ {
                          "span_term" : {
                            "fulltext_field" : {
                              "value" : "this"
                            }
                          }
                        }, {
                          "span_term" : {
                            "fulltext_field" : {
                              "value" : "is"
                            }
                          }
                        }, {
                          "span_term" : {
                            "fulltext_field" : {
                              "value" : "a"
                            }
                          }
                        }, {
                          "span_term" : {
                            "fulltext_field" : {
                              "value" : "sloppy"
                            }
                          }
                        }, {
                          "span_multi" : {
                            "match" : {
                              "fuzzy" : {
                                "fulltext_field" : {
                                  "value" : "phrase",
                                  "prefix_length" : 3
                                }
                              }
                            }
                          }
                        } ],
                        "slop" : 11,
                        "in_order" : true
                      }
                    }, {
                      "span_near" : {
                        "clauses" : [ {
                          "span_term" : {
                            "_all" : {
                              "value" : "this"
                            }
                          }
                        }, {
                          "span_term" : {
                            "_all" : {
                              "value" : "is"
                            }
                          }
                        }, {
                          "span_term" : {
                            "_all" : {
                              "value" : "a"
                            }
                          }
                        }, {
                          "span_term" : {
                            "_all" : {
                              "value" : "sloppy"
                            }
                          }
                        }, {
                          "span_multi" : {
                            "match" : {
                              "fuzzy" : {
                                "_all" : {
                                  "value" : "phrase",
                                  "prefix_length" : 3
                                }
                              }
                            }
                          }
                        } ],
                        "slop" : 11,
                        "in_order" : true
                      }
                    } ]
                  }
                }, {
                  "bool" : {
                    "should" : [ {
                      "span_near" : {
                        "clauses" : [ {
                          "span_term" : {
                            "fulltext_field" : {
                              "value" : "this"
                            }
                          }
                        }, {
                          "span_term" : {
                            "fulltext_field" : {
                              "value" : "is"
                            }
                          }
                        }, {
                          "span_term" : {
                            "fulltext_field" : {
                              "value" : "a"
                            }
                          }
                        }, {
                          "span_term" : {
                            "fulltext_field" : {
                              "value" : "sloppy"
                            }
                          }
                        }, {
                          "span_multi" : {
                            "match" : {
                              "fuzzy" : {
                                "fulltext_field" : {
                                  "value" : "phrase",
                                  "prefix_length" : 3
                                }
                              }
                            }
                          }
                        } ],
                        "slop" : 11,
                        "in_order" : true
                      }
                    }, {
                      "span_near" : {
                        "clauses" : [ {
                          "span_term" : {
                            "_all" : {
                              "value" : "this"
                            }
                          }
                        }, {
                          "span_term" : {
                            "_all" : {
                              "value" : "is"
                            }
                          }
                        }, {
                          "span_term" : {
                            "_all" : {
                              "value" : "a"
                            }
                          }
                        }, {
                          "span_term" : {
                            "_all" : {
                              "value" : "sloppy"
                            }
                          }
                        }, {
                          "span_multi" : {
                            "match" : {
                              "fuzzy" : {
                                "_all" : {
                                  "value" : "phrase",
                                  "prefix_length" : 3
                                }
                              }
                            }
                          }
                        } ],
                        "slop" : 11,
                        "in_order" : true
                      }
                    } ]
                  }
                } ]
              }
            }, {
              "bool" : {
                "should" : [ {
                  "bool" : {
                    "should" : [ {
                      "span_near" : {
                        "clauses" : [ {
                          "span_term" : {
                            "fulltext_field" : {
                              "value" : "so"
                            }
                          }
                        }, {
                          "span_term" : {
                            "fulltext_field" : {
                              "value" : "is"
                            }
                          }
                        }, {
                          "span_term" : {
                            "fulltext_field" : {
                              "value" : "this"
                            }
                          }
                        } ],
                        "slop" : 42,
                        "in_order" : true
                      }
                    }, {
                      "span_near" : {
                        "clauses" : [ {
                          "span_term" : {
                            "_all" : {
                              "value" : "so"
                            }
                          }
                        }, {
                          "span_term" : {
                            "_all" : {
                              "value" : "is"
                            }
                          }
                        }, {
                          "span_term" : {
                            "_all" : {
                              "value" : "this"
                            }
                          }
                        } ],
                        "slop" : 42,
                        "in_order" : true
                      }
                    } ]
                  }
                }, {
                  "bool" : {
                    "should" : [ {
                      "span_near" : {
                        "clauses" : [ {
                          "span_term" : {
                            "fulltext_field" : {
                              "value" : "so"
                            }
                          }
                        }, {
                          "span_term" : {
                            "fulltext_field" : {
                              "value" : "is"
                            }
                          }
                        }, {
                          "span_term" : {
                            "fulltext_field" : {
                              "value" : "this"
                            }
                          }
                        } ],
                        "slop" : 42,
                        "in_order" : true
                      }
                    }, {
                      "span_near" : {
                        "clauses" : [ {
                          "span_term" : {
                            "_all" : {
                              "value" : "so"
                            }
                          }
                        }, {
                          "span_term" : {
                            "_all" : {
                              "value" : "is"
                            }
                          }
                        }, {
                          "span_term" : {
                            "_all" : {
                              "value" : "this"
                            }
                          }
                        } ],
                        "slop" : 42,
                        "in_order" : true
                      }
                    } ]
                  }
                }, {
                  "bool" : {
                    "should" : [ {
                      "span_near" : {
                        "clauses" : [ {
                          "span_term" : {
                            "fulltext_field" : {
                              "value" : "so"
                            }
                          }
                        }, {
                          "span_term" : {
                            "fulltext_field" : {
                              "value" : "is"
                            }
                          }
                        }, {
                          "span_term" : {
                            "fulltext_field" : {
                              "value" : "this"
                            }
                          }
                        } ],
                        "slop" : 42,
                        "in_order" : true
                      }
                    }, {
                      "span_near" : {
                        "clauses" : [ {
                          "span_term" : {
                            "_all" : {
                              "value" : "so"
                            }
                          }
                        }, {
                          "span_term" : {
                            "_all" : {
                              "value" : "is"
                            }
                          }
                        }, {
                          "span_term" : {
                            "_all" : {
                              "value" : "this"
                            }
                          }
                        } ],
                        "slop" : 42,
                        "in_order" : true
                      }
                    } ]
                  }
                }, {
                  "bool" : {
                    "should" : [ {
                      "span_near" : {
                        "clauses" : [ {
                          "span_term" : {
                            "fulltext_field" : {
                              "value" : "so"
                            }
                          }
                        }, {
                          "span_term" : {
                            "fulltext_field" : {
                              "value" : "is"
                            }
                          }
                        }, {
                          "span_term" : {
                            "fulltext_field" : {
                              "value" : "this"
                            }
                          }
                        } ],
                        "slop" : 42,
                        "in_order" : true
                      }
                    }, {
                      "span_near" : {
                        "clauses" : [ {
                          "span_term" : {
                            "_all" : {
                              "value" : "so"
                            }
                          }
                        }, {
                          "span_term" : {
                            "_all" : {
                              "value" : "is"
                            }
                          }
                        }, {
                          "span_term" : {
                            "_all" : {
                              "value" : "this"
                            }
                          }
                        } ],
                        "slop" : 42,
                        "in_order" : true
                      }
                    } ]
                  }
                }, {
                  "bool" : {
                    "should" : [ {
                      "span_near" : {
                        "clauses" : [ {
                          "span_term" : {
                            "fulltext_field" : {
                              "value" : "so"
                            }
                          }
                        }, {
                          "span_term" : {
                            "fulltext_field" : {
                              "value" : "is"
                            }
                          }
                        }, {
                          "span_term" : {
                            "fulltext_field" : {
                              "value" : "this"
                            }
                          }
                        } ],
                        "slop" : 42,
                        "in_order" : true
                      }
                    }, {
                      "span_near" : {
                        "clauses" : [ {
                          "span_term" : {
                            "_all" : {
                              "value" : "so"
                            }
                          }
                        }, {
                          "span_term" : {
                            "_all" : {
                              "value" : "is"
                            }
                          }
                        }, {
                          "span_term" : {
                            "_all" : {
                              "value" : "this"
                            }
                          }
                        } ],
                        "slop" : 42,
                        "in_order" : true
                      }
                    } ]
                  }
                } ]
              }
            }, {
              "bool" : {
                "should" : [ {
                  "bool" : {
                    "should" : [ {
                      "span_near" : {
                        "clauses" : [ {
                          "span_term" : {
                            "fulltext_field" : {
                              "value" : "this"
                            }
                          }
                        }, {
                          "span_term" : {
                            "fulltext_field" : {
                              "value" : "is"
                            }
                          }
                        }, {
                          "span_term" : {
                            "fulltext_field" : {
                              "value" : "an"
                            }
                          }
                        }, {
                          "span_term" : {
                            "fulltext_field" : {
                              "value" : "unordered"
                            }
                          }
                        }, {
                          "span_term" : {
                            "fulltext_field" : {
                              "value" : "sloppy"
                            }
                          }
                        }, {
                          "span_multi" : {
                            "match" : {
                              "fuzzy" : {
                                "fulltext_field" : {
                                  "value" : "phrase",
                                  "prefix_length" : 3
                                }
                              }
                            }
                          }
                        } ],
                        "slop" : 11,
                        "in_order" : false
                      }
                    }, {
                      "span_near" : {
                        "clauses" : [ {
                          "span_term" : {
                            "_all" : {
                              "value" : "this"
                            }
                          }
                        }, {
                          "span_term" : {
                            "_all" : {
                              "value" : "is"
                            }
                          }
                        }, {
                          "span_term" : {
                            "_all" : {
                              "value" : "an"
                            }
                          }
                        }, {
                          "span_term" : {
                            "_all" : {
                              "value" : "unordered"
                            }
                          }
                        }, {
                          "span_term" : {
                            "_all" : {
                              "value" : "sloppy"
                            }
                          }
                        }, {
                          "span_multi" : {
                            "match" : {
                              "fuzzy" : {
                                "_all" : {
                                  "value" : "phrase",
                                  "prefix_length" : 3
                                }
                              }
                            }
                          }
                        } ],
                        "slop" : 11,
                        "in_order" : false
                      }
                    } ]
                  }
                }, {
                  "bool" : {
                    "should" : [ {
                      "span_near" : {
                        "clauses" : [ {
                          "span_term" : {
                            "fulltext_field" : {
                              "value" : "this"
                            }
                          }
                        }, {
                          "span_term" : {
                            "fulltext_field" : {
                              "value" : "is"
                            }
                          }
                        }, {
                          "span_term" : {
                            "fulltext_field" : {
                              "value" : "an"
                            }
                          }
                        }, {
                          "span_term" : {
                            "fulltext_field" : {
                              "value" : "unordered"
                            }
                          }
                        }, {
                          "span_term" : {
                            "fulltext_field" : {
                              "value" : "sloppy"
                            }
                          }
                        }, {
                          "span_multi" : {
                            "match" : {
                              "fuzzy" : {
                                "fulltext_field" : {
                                  "value" : "phrase",
                                  "prefix_length" : 3
                                }
                              }
                            }
                          }
                        } ],
                        "slop" : 11,
                        "in_order" : false
                      }
                    }, {
                      "span_near" : {
                        "clauses" : [ {
                          "span_term" : {
                            "_all" : {
                              "value" : "this"
                            }
                          }
                        }, {
                          "span_term" : {
                            "_all" : {
                              "value" : "is"
                            }
                          }
                        }, {
                          "span_term" : {
                            "_all" : {
                              "value" : "an"
                            }
                          }
                        }, {
                          "span_term" : {
                            "_all" : {
                              "value" : "unordered"
                            }
                          }
                        }, {
                          "span_term" : {
                            "_all" : {
                              "value" : "sloppy"
                            }
                          }
                        }, {
                          "span_multi" : {
                            "match" : {
                              "fuzzy" : {
                                "_all" : {
                                  "value" : "phrase",
                                  "prefix_length" : 3
                                }
                              }
                            }
                          }
                        } ],
                        "slop" : 11,
                        "in_order" : false
                      }
                    } ]
                  }
                }, {
                  "bool" : {
                    "should" : [ {
                      "span_near" : {
                        "clauses" : [ {
                          "span_term" : {
                            "fulltext_field" : {
                              "value" : "this"
                            }
                          }
                        }, {
                          "span_term" : {
                            "fulltext_field" : {
                              "value" : "is"
                            }
                          }
                        }, {
                          "span_term" : {
                            "fulltext_field" : {
                              "value" : "an"
                            }
                          }
                        }, {
                          "span_term" : {
                            "fulltext_field" : {
                              "value" : "unordered"
                            }
                          }
                        }, {
                          "span_term" : {
                            "fulltext_field" : {
                              "value" : "sloppy"
                            }
                          }
                        }, {
                          "span_multi" : {
                            "match" : {
                              "fuzzy" : {
                                "fulltext_field" : {
                                  "value" : "phrase",
                                  "prefix_length" : 3
                                }
                              }
                            }
                          }
                        } ],
                        "slop" : 11,
                        "in_order" : false
                      }
                    }, {
                      "span_near" : {
                        "clauses" : [ {
                          "span_term" : {
                            "_all" : {
                              "value" : "this"
                            }
                          }
                        }, {
                          "span_term" : {
                            "_all" : {
                              "value" : "is"
                            }
                          }
                        }, {
                          "span_term" : {
                            "_all" : {
                              "value" : "an"
                            }
                          }
                        }, {
                          "span_term" : {
                            "_all" : {
                              "value" : "unordered"
                            }
                          }
                        }, {
                          "span_term" : {
                            "_all" : {
                              "value" : "sloppy"
                            }
                          }
                        }, {
                          "span_multi" : {
                            "match" : {
                              "fuzzy" : {
                                "_all" : {
                                  "value" : "phrase",
                                  "prefix_length" : 3
                                }
                              }
                            }
                          }
                        } ],
                        "slop" : 11,
                        "in_order" : false
                      }
                    } ]
                  }
                }, {
                  "bool" : {
                    "should" : [ {
                      "span_near" : {
                        "clauses" : [ {
                          "span_term" : {
                            "fulltext_field" : {
                              "value" : "this"
                            }
                          }
                        }, {
                          "span_term" : {
                            "fulltext_field" : {
                              "value" : "is"
                            }
                          }
                        }, {
                          "span_term" : {
                            "fulltext_field" : {
                              "value" : "an"
                            }
                          }
                        }, {
                          "span_term" : {
                            "fulltext_field" : {
                              "value" : "unordered"
                            }
                          }
                        }, {
                          "span_term" : {
                            "fulltext_field" : {
                              "value" : "sloppy"
                            }
                          }
                        }, {
                          "span_multi" : {
                            "match" : {
                              "fuzzy" : {
                                "fulltext_field" : {
                                  "value" : "phrase",
                                  "prefix_length" : 3
                                }
                              }
                            }
                          }
                        } ],
                        "slop" : 11,
                        "in_order" : false
                      }
                    }, {
                      "span_near" : {
                        "clauses" : [ {
                          "span_term" : {
                            "_all" : {
                              "value" : "this"
                            }
                          }
                        }, {
                          "span_term" : {
                            "_all" : {
                              "value" : "is"
                            }
                          }
                        }, {
                          "span_term" : {
                            "_all" : {
                              "value" : "an"
                            }
                          }
                        }, {
                          "span_term" : {
                            "_all" : {
                              "value" : "unordered"
                            }
                          }
                        }, {
                          "span_term" : {
                            "_all" : {
                              "value" : "sloppy"
                            }
                          }
                        }, {
                          "span_multi" : {
                            "match" : {
                              "fuzzy" : {
                                "_all" : {
                                  "value" : "phrase",
                                  "prefix_length" : 3
                                }
                              }
                            }
                          }
                        } ],
                        "slop" : 11,
                        "in_order" : false
                      }
                    } ]
                  }
                }, {
                  "bool" : {
                    "should" : [ {
                      "span_near" : {
                        "clauses" : [ {
                          "span_term" : {
                            "fulltext_field" : {
                              "value" : "this"
                            }
                          }
                        }, {
                          "span_term" : {
                            "fulltext_field" : {
                              "value" : "is"
                            }
                          }
                        }, {
                          "span_term" : {
                            "fulltext_field" : {
                              "value" : "an"
                            }
                          }
                        }, {
                          "span_term" : {
                            "fulltext_field" : {
                              "value" : "unordered"
                            }
                          }
                        }, {
                          "span_term" : {
                            "fulltext_field" : {
                              "value" : "sloppy"
                            }
                          }
                        }, {
                          "span_multi" : {
                            "match" : {
                              "fuzzy" : {
                                "fulltext_field" : {
                                  "value" : "phrase",
                                  "prefix_length" : 3
                                }
                              }
                            }
                          }
                        } ],
                        "slop" : 11,
                        "in_order" : false
                      }
                    }, {
                      "span_near" : {
                        "clauses" : [ {
                          "span_term" : {
                            "_all" : {
                              "value" : "this"
                            }
                          }
                        }, {
                          "span_term" : {
                            "_all" : {
                              "value" : "is"
                            }
                          }
                        }, {
                          "span_term" : {
                            "_all" : {
                              "value" : "an"
                            }
                          }
                        }, {
                          "span_term" : {
                            "_all" : {
                              "value" : "unordered"
                            }
                          }
                        }, {
                          "span_term" : {
                            "_all" : {
                              "value" : "sloppy"
                            }
                          }
                        }, {
                          "span_multi" : {
                            "match" : {
                              "fuzzy" : {
                                "_all" : {
                                  "value" : "phrase",
                                  "prefix_length" : 3
                                }
                              }
                            }
                          }
                        } ],
                        "slop" : 11,
                        "in_order" : false
                      }
                    } ]
                  }
                } ]
              }
            } ]
          }
        }, {
          "bool" : {
            "must" : [ {
              "bool" : {
                "should" : [ {
                  "bool" : {
                    "should" : [ {
                      "fuzzy" : {
                        "fulltext_field" : {
                          "value" : "fuzzy",
                          "prefix_length" : 1
                        }
                      }
                    }, {
                      "fuzzy" : {
                        "_all" : {
                          "value" : "fuzzy",
                          "prefix_length" : 1
                        }
                      }
                    } ]
                  }
                }, {
                  "bool" : {
                    "should" : [ {
                      "fuzzy" : {
                        "fulltext_field" : {
                          "value" : "fuzzy",
                          "prefix_length" : 1
                        }
                      }
                    }, {
                      "fuzzy" : {
                        "_all" : {
                          "value" : "fuzzy",
                          "prefix_length" : 1
                        }
                      }
                    } ]
                  }
                }, {
                  "bool" : {
                    "should" : [ {
                      "fuzzy" : {
                        "fulltext_field" : {
                          "value" : "fuzzy",
                          "prefix_length" : 1
                        }
                      }
                    }, {
                      "fuzzy" : {
                        "_all" : {
                          "value" : "fuzzy",
                          "prefix_length" : 1
                        }
                      }
                    } ]
                  }
                }, {
                  "bool" : {
                    "should" : [ {
                      "fuzzy" : {
                        "fulltext_field" : {
                          "value" : "fuzzy",
                          "prefix_length" : 1
                        }
                      }
                    }, {
                      "fuzzy" : {
                        "_all" : {
                          "value" : "fuzzy",
                          "prefix_length" : 1
                        }
                      }
                    } ]
                  }
                }, {
                  "bool" : {
                    "should" : [ {
                      "fuzzy" : {
                        "fulltext_field" : {
                          "value" : "fuzzy",
                          "prefix_length" : 1
                        }
                      }
                    }, {
                      "fuzzy" : {
                        "_all" : {
                          "value" : "fuzzy",
                          "prefix_length" : 1
                        }
                      }
                    } ]
                  }
                } ]
              }
            }, {
              "bool" : {
                "should" : [ {
                  "bool" : {
                    "should" : [ {
                      "terms" : {
                        "fulltext_field" : [ 1, 2, 3, "beer", "foo", "blah", true, 123.99, null ]
                      }
                    }, {
                      "terms" : {
                        "_all" : [ 1, 2, 3, "beer", "foo", "blah", true, 123.99, null ]
                      }
                    } ]
                  }
                }, {
                  "bool" : {
                    "should" : [ {
                      "terms" : {
                        "fulltext_field" : [ 1, 2, 3, "beer", "foo", "blah", true, 123.99, null ]
                      }
                    }, {
                      "terms" : {
                        "_all" : [ 1, 2, 3, "beer", "foo", "blah", true, 123.99, null ]
                      }
                    } ]
                  }
                }, {
                  "bool" : {
                    "should" : [ {
                      "terms" : {
                        "fulltext_field" : [ 1, 2, 3, "beer", "foo", "blah", true, 123.99, null ]
                      }
                    }, {
                      "terms" : {
                        "_all" : [ 1, 2, 3, "beer", "foo", "blah", true, 123.99, null ]
                      }
                    } ]
                  }
                }, {
                  "bool" : {
                    "should" : [ {
                      "terms" : {
                        "fulltext_field" : [ 1, 2, 3, "beer", "foo", "blah", true, 123.99, null ]
                      }
                    }, {
                      "terms" : {
                        "_all" : [ 1, 2, 3, "beer", "foo", "blah", true, 123.99, null ]
                      }
                    } ]
                  }
                }, {
                  "bool" : {
                    "should" : [ {
                      "terms" : {
                        "fulltext_field" : [ 1, 2, 3, "beer", "foo", "blah", true, 123.99, null ]
                      }
                    }, {
                      "terms" : {
                        "_all" : [ 1, 2, 3, "beer", "foo", "blah", true, 123.99, null ]
                      }
                    } ]
                  }
                } ]
              }
            } ]
          }
        }, {
          "bool" : {
            "must" : [ {
              "bool" : {
                "must" : [ {
                  "filtered" : {
                    "query" : {
                      "match_all" : { }
                    },
                    "filter" : {
                      "not" : {
                        "filter" : {
                          "query" : {
                            "wildcard" : {
                              "field" : "http*//www.*tcdi.com/"
                            }
                          }
                        }
                      }
                    }
                  }
                }, {
                  "fuzzy" : {
                    "field" : {
                      "value" : "value",
                      "prefix_length" : 3
                    }
                  }
                }, {
                  "nested" : {
                    "query" : {
                      "term" : {
                        "review_data.assigned_reviewers" : "e_ridge"
                      }
                    },
                    "path" : "review_data"
                  }
                }, {
                  "term" : {
                    "blah" : 1
                  }
                }, {
                  "bool" : {
                    "should" : [ {
                      "bool" : {
                        "must" : [ {
                          "prefix" : {
                            "field1" : "word1"
                          }
                        }, {
                          "prefix" : {
                            "field1" : "word2"
                          }
                        }, {
                          "wildcard" : {
                            "field1" : "w*ld?card*"
                          }
                        }, {
                          "prefix" : {
                            "field2" : "wo"
                          }
                        }, {
                          "term" : {
                            "field1" : "rd3"
                          }
                        } ]
                      }
                    }, {
                      "bool" : {
                        "must" : [ {
                          "nested" : {
                            "query" : {
                              "terms" : {
                                "review_data.subject" : [ "wine", "last", "first", "wine", "cheese", "food", "foo", "bar" ]
                              }
                            },
                            "path" : "review_data"
                          }
                        }, {
                          "nested" : {
                            "query" : {
                              "term" : {
                                "review_data.review_set_name" : "zipper"
                              }
                            },
                            "path" : "review_data"
                          }
                        }, {
                          "terms" : {
                            "field" : [ "drink", "food" ],
                            "minimum_should_match" : "2"
                          }
                        }, {
                          "nested" : {
                            "query" : {
                              "term" : {
                                "review_data.subject" : "wine"
                              }
                            },
                            "path" : "review_data"
                          }
                        }, {
                          "nested" : {
                            "query" : {
                              "term" : {
                                "review_data.subject" : "last"
                              }
                            },
                            "path" : "review_data"
                          }
                        }, {
                          "nested" : {
                            "query" : {
                              "term" : {
                                "review_data.subject" : "first"
                              }
                            },
                            "path" : "review_data"
                          }
                        }, {
                          "nested" : {
                            "query" : {
                              "term" : {
                                "review_data.subject" : "wine"
                              }
                            },
                            "path" : "review_data"
                          }
                        }, {
                          "nested" : {
                            "query" : {
                              "term" : {
                                "review_data.subject" : "cheese"
                              }
                            },
                            "path" : "review_data"
                          }
                        }, {
                          "nested" : {
                            "query" : {
                              "term" : {
                                "review_data.subject" : "food"
                              }
                            },
                            "path" : "review_data"
                          }
                        }, {
                          "nested" : {
                            "query" : {
                              "term" : {
                                "review_data.subject" : "foo"
                              }
                            },
                            "path" : "review_data"
                          }
                        }, {
                          "nested" : {
                            "query" : {
                              "term" : {
                                "review_data.subject" : "bar"
                              }
                            },
                            "path" : "review_data"
                          }
                        } ]
                      }
                    }, {
                      "bool" : {
                        "must" : [ {
                          "bool" : {
                            "should" : [ {
                              "nested" : {
                                "query" : {
                                  "term" : {
                                    "review_data.review_set_name" : "food"
                                  }
                                },
                                "path" : "review_data"
                              }
                            }, {
                              "term" : {
                                "field1" : "beer"
                              }
                            } ]
                          }
                        }, {
                          "bool" : {
                            "should" : {
                              "terms" : {
                                "field1" : [ "this", "merges", "arrays", 1, 2, 3, "x", "y", "z", "some phrase" ]
                              }
                            }
                          }
                        }, {
                          "bool" : {
                            "must_not" : {
                              "wildcard" : {
                                "field1" : "*gr*avy*"
                              }
                            }
                          }
                        }, {
                          "terms" : {
                            "field3" : [ "beer", "wine" ],
                            "minimum_should_match" : "2"
                          }
                        } ]
                      }
                    } ]
                  }
                }, {
                  "nested" : {
                    "query" : {
                      "bool" : {
                        "must" : [ {
                          "term" : {
                            "nested_field.fielda" : "beer"
                          }
                        }, {
                          "term" : {
                            "nested_field.fieldb" : "wine"
                          }
                        }, {
                          "bool" : {
                            "should" : {
                              "terms" : {
                                "nested_field.fieldc" : [ "food", "cheese" ]
                              }
                            }
                          }
                        } ]
                      }
                    },
                    "path" : "nested_field"
                  }
                }, {
                  "span_near" : {
                    "clauses" : [ {
                      "span_term" : {
                        "field" : {
                          "value" : "a"
                        }
                      }
                    }, {
                      "span_near" : {
                        "clauses" : [ {
                          "span_term" : {
                            "field" : {
                              "value" : "b"
                            }
                          }
                        }, {
                          "span_term" : {
                            "field" : {
                              "value" : "c",
                              "boost" : 2.0
                            }
                          }
                        } ],
                        "slop" : 2,
                        "in_order" : false
                      }
                    } ],
                    "slop" : 123,
                    "in_order" : false
                  }
                }, {
                  "range" : {
                    "id" : {
                      "from" : "one",
                      "to" : "two",
                      "include_lower" : true,
                      "include_upper" : true
                    }
                  }
                } ]
              }
            }, {
              "bool" : {
                "should" : [ {
                  "bool" : {
                    "should" : [ {
                      "range" : {
                        "fulltext_field" : {
                          "from" : "foo",
                          "to" : "three",
                          "include_lower" : true,
                          "include_upper" : true
                        }
                      }
                    }, {
                      "range" : {
                        "_all" : {
                          "from" : "foo",
                          "to" : "three",
                          "include_lower" : true,
                          "include_upper" : true
                        }
                      }
                    } ]
                  }
                }, {
                  "bool" : {
                    "should" : [ {
                      "range" : {
                        "fulltext_field" : {
                          "from" : "foo",
                          "to" : "three",
                          "include_lower" : true,
                          "include_upper" : true
                        }
                      }
                    }, {
                      "range" : {
                        "_all" : {
                          "from" : "foo",
                          "to" : "three",
                          "include_lower" : true,
                          "include_upper" : true
                        }
                      }
                    } ]
                  }
                }, {
                  "bool" : {
                    "should" : [ {
                      "range" : {
                        "fulltext_field" : {
                          "from" : "foo",
                          "to" : "three",
                          "include_lower" : true,
                          "include_upper" : true
                        }
                      }
                    }, {
                      "range" : {
                        "_all" : {
                          "from" : "foo",
                          "to" : "three",
                          "include_lower" : true,
                          "include_upper" : true
                        }
                      }
                    } ]
                  }
                }, {
                  "bool" : {
                    "should" : [ {
                      "range" : {
                        "fulltext_field" : {
                          "from" : "foo",
                          "to" : "three",
                          "include_lower" : true,
                          "include_upper" : true
                        }
                      }
                    }, {
                      "range" : {
                        "_all" : {
                          "from" : "foo",
                          "to" : "three",
                          "include_lower" : true,
                          "include_upper" : true
                        }
                      }
                    } ]
                  }
                }, {
                  "bool" : {
                    "should" : [ {
                      "range" : {
                        "fulltext_field" : {
                          "from" : "foo",
                          "to" : "three",
                          "include_lower" : true,
                          "include_upper" : true
                        }
                      }
                    }, {
                      "range" : {
                        "_all" : {
                          "from" : "foo",
                          "to" : "three",
                          "include_lower" : true,
                          "include_upper" : true
                        }
                      }
                    } ]
                  }
                } ]
              }
            }, {
              "bool" : {
                "should" : [ {
                  "bool" : {
                    "should" : [ {
                      "term" : {
                        "fulltext_field" : "a-b-c-d"
                      }
                    }, {
                      "term" : {
                        "_all" : "a-b-c-d"
                      }
                    } ]
                  }
                }, {
                  "bool" : {
                    "should" : [ {
                      "term" : {
                        "fulltext_field" : "a-b-c-d"
                      }
                    }, {
                      "term" : {
                        "_all" : "a-b-c-d"
                      }
                    } ]
                  }
                }, {
                  "bool" : {
                    "should" : [ {
                      "term" : {
                        "fulltext_field" : "a-b-c-d"
                      }
                    }, {
                      "term" : {
                        "_all" : "a-b-c-d"
                      }
                    } ]
                  }
                }, {
                  "bool" : {
                    "should" : [ {
                      "term" : {
                        "fulltext_field" : "a-b-c-d"
                      }
                    }, {
                      "term" : {
                        "_all" : "a-b-c-d"
                      }
                    } ]
                  }
                }, {
                  "bool" : {
                    "should" : [ {
                      "term" : {
                        "fulltext_field" : "a-b-c-d"
                      }
                    }, {
                      "term" : {
                        "_all" : "a-b-c-d"
                      }
                    } ]
                  }
                } ]
              }
            }, {
              "bool" : {
                "should" : [ {
                  "bool" : {
                    "should" : [ {
                      "terms" : {
                        "fulltext_field" : [ "abcd", "to", 10, "a", "to", "z" ],
                        "minimum_should_match" : "6"
                      }
                    }, {
                      "terms" : {
                        "_all" : [ "abcd", "to", 10, "a", "to", "z" ],
                        "minimum_should_match" : "6"
                      }
                    } ]
                  }
                }, {
                  "bool" : {
                    "should" : [ {
                      "terms" : {
                        "fulltext_field" : [ "abcd", "to", 10, "a", "to", "z" ],
                        "minimum_should_match" : "6"
                      }
                    }, {
                      "terms" : {
                        "_all" : [ "abcd", "to", 10, "a", "to", "z" ],
                        "minimum_should_match" : "6"
                      }
                    } ]
                  }
                }, {
                  "bool" : {
                    "should" : [ {
                      "terms" : {
                        "fulltext_field" : [ "abcd", "to", 10, "a", "to", "z" ],
                        "minimum_should_match" : "6"
                      }
                    }, {
                      "terms" : {
                        "_all" : [ "abcd", "to", 10, "a", "to", "z" ],
                        "minimum_should_match" : "6"
                      }
                    } ]
                  }
                }, {
                  "bool" : {
                    "should" : [ {
                      "terms" : {
                        "fulltext_field" : [ "abcd", "to", 10, "a", "to", "z" ],
                        "minimum_should_match" : "6"
                      }
                    }, {
                      "terms" : {
                        "_all" : [ "abcd", "to", 10, "a", "to", "z" ],
                        "minimum_should_match" : "6"
                      }
                    } ]
                  }
                }, {
                  "bool" : {
                    "should" : [ {
                      "terms" : {
                        "fulltext_field" : [ "abcd", "to", 10, "a", "to", "z" ],
                        "minimum_should_match" : "6"
                      }
                    }, {
                      "terms" : {
                        "_all" : [ "abcd", "to", 10, "a", "to", "z" ],
                        "minimum_should_match" : "6"
                      }
                    } ]
                  }
                } ]
              }
            }, {
              "bool" : {
                "should" : [ {
                  "bool" : {
                    "should" : [ {
                      "term" : {
                        "fulltext_field" : "a/b/c/d"
                      }
                    }, {
                      "term" : {
                        "_all" : "a/b/c/d"
                      }
                    } ]
                  }
                }, {
                  "bool" : {
                    "should" : [ {
                      "term" : {
                        "fulltext_field" : "a/b/c/d"
                      }
                    }, {
                      "term" : {
                        "_all" : "a/b/c/d"
                      }
                    } ]
                  }
                }, {
                  "bool" : {
                    "should" : [ {
                      "term" : {
                        "fulltext_field" : "a/b/c/d"
                      }
                    }, {
                      "term" : {
                        "_all" : "a/b/c/d"
                      }
                    } ]
                  }
                }, {
                  "bool" : {
                    "should" : [ {
                      "term" : {
                        "fulltext_field" : "a/b/c/d"
                      }
                    }, {
                      "term" : {
                        "_all" : "a/b/c/d"
                      }
                    } ]
                  }
                }, {
                  "bool" : {
                    "should" : [ {
                      "term" : {
                        "fulltext_field" : "a/b/c/d"
                      }
                    }, {
                      "term" : {
                        "_all" : "a/b/c/d"
                      }
                    } ]
                  }
                } ]
              }
            }, {
              "bool" : {
                "should" : [ {
                  "bool" : {
                    "should" : [ {
                      "term" : {
                        "fulltext_field" : "http://www.tcdi.com/?id=42"
                      }
                    }, {
                      "term" : {
                        "_all" : "http://www.tcdi.com/?id=42"
                      }
                    } ]
                  }
                }, {
                  "bool" : {
                    "should" : [ {
                      "term" : {
                        "fulltext_field" : "http://www.tcdi.com/?id=42"
                      }
                    }, {
                      "term" : {
                        "_all" : "http://www.tcdi.com/?id=42"
                      }
                    } ]
                  }
                }, {
                  "bool" : {
                    "should" : [ {
                      "term" : {
                        "fulltext_field" : "http://www.tcdi.com/?id=42"
                      }
                    }, {
                      "term" : {
                        "_all" : "http://www.tcdi.com/?id=42"
                      }
                    } ]
                  }
                }, {
                  "bool" : {
                    "should" : [ {
                      "term" : {
                        "fulltext_field" : "http://www.tcdi.com/?id=42"
                      }
                    }, {
                      "term" : {
                        "_all" : "http://www.tcdi.com/?id=42"
                      }
                    } ]
                  }
                }, {
                  "bool" : {
                    "should" : [ {
                      "term" : {
                        "fulltext_field" : "http://www.tcdi.com/?id=42"
                      }
                    }, {
                      "term" : {
                        "_all" : "http://www.tcdi.com/?id=42"
                      }
                    } ]
                  }
                } ]
              }
            }, {
              "bool" : {
                "should" : [ {
                  "bool" : {
                    "must" : [ {
                      "term" : {
                        "_xmin" : 42
                      }
                    }, {
                      "range" : {
                        "_cmin" : {
                          "from" : null,
                          "to" : 42,
                          "include_lower" : true,
                          "include_upper" : false
                        }
                      }
                    }, {
                      "bool" : {
                        "should" : [ {
                          "term" : {
                            "_xmax" : 0
                          }
                        }, {
                          "bool" : {
                            "must" : [ {
                              "term" : {
                                "_xmax" : 42
                              }
                            }, {
                              "range" : {
                                "_cmax" : {
                                  "from" : 42,
                                  "to" : null,
                                  "include_lower" : true,
                                  "include_upper" : true
                                }
                              }
                            } ]
                          }
                        } ]
                      }
                    } ]
                  }
                }, {
                  "bool" : {
                    "must" : [ {
                      "term" : {
                        "_xmin_is_committed" : true
                      }
                    }, {
                      "bool" : {
                        "should" : [ {
                          "term" : {
                            "_xmax" : 0
                          }
                        }, {
                          "bool" : {
                            "must" : [ {
                              "term" : {
                                "_xmax" : 42
                              }
                            }, {
                              "range" : {
                                "_cmax" : {
                                  "from" : 42,
                                  "to" : null,
                                  "include_lower" : true,
                                  "include_upper" : true
                                }
                              }
                            } ]
                          }
                        }, {
                          "bool" : {
                            "must" : [ {
                              "filtered" : {
                                "query" : {
                                  "match_all" : { }
                                },
                                "filter" : {
                                  "not" : {
                                    "filter" : {
                                      "query" : {
                                        "term" : {
                                          "_xmax" : 42
                                        }
                                      }
                                    }
                                  }
                                }
                              }
                            }, {
                              "term" : {
                                "_xmax_is_committed" : false
                              }
                            } ]
                          }
                        } ]
                      }
                    } ]
                  }
                } ]
              }
            } ]
          }
        } ]
      }
    },
    "child_type" : "data"
  }
}